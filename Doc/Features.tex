\section{Features}
In the following section the features of the DualSense controller will be explained.

\subsection{Overview}
\begin{itemize}
	\item \textbf{Connectivity} The DualSense controller can be used via Bluetooth or USB (USB C).
	\item \textbf{Integrated battery} Featuring an integrated battery the DualSense controller is best used via Bluetooth. The controller can be charged via USB C.
\end{itemize}

\begin{figure}[H]
    \centering
    \subfloat[\centering Front View]{{\includegraphics[width=5cm]{frontView} }}
    \qquad
    \subfloat[\centering Rear View]{{\includegraphics[width=5cm]{rearView} }}
    \caption{The DualSense controller}
\end{figure}

The DualSense controller conatins the following features:
\begin{itemize}
	\item Two XY-Axis analog sticks with integrated push button.
	\item Two adaptive triggers (are able to provide resistance feedback).
	\item Two shoulder buttons.
	\item Directional-pad with the ability to press upto two neighbor buttons simultaneously.
	\item Four circular face buttons (Square, Cross, Circle and Triangle).
	\item Dual-touch touchpad with integrated push button, surrounded with five player indication LEDs on the bottom and RGB-LED lightbar on the sides.
	\item Menu, share, microphone mute and PlayStation button.
	\item 6-Axis IMU (gyroscope and  accelerometer).
	\item Left and right rumble motors (Hard and Soft respectively). Can alternatively used as haptic feedback (not supported yet).
	\item Integrated speaker and microphone.
	\item Stereo audio jack.	
\end{itemize}

\subsection{Feature List}

\paragraph{Analog sticks}
Each analog stick has two axis with 8-Bit precision each. The analog sticks will automatically return to their center position if released. They are mapped to the range $-128$ to $127$ where $0$ means center, $-128$ means left/bottom on X/Y-Axis and $127$ means right/top on X/Y-Axis. Using the analog values requires the correction of the dead zones, because a released stick will most likely not have the value $R_{xy}(0; 0)$ it will be a bit off. Same goes for the extreme values witch will also be off and not be exactly $T_{xy}(0; 127)$, $L_{xy}(-128; 0)$, etc..
\begin{figure}[H]
    \centering
    \subfloat{{\includegraphics[width=8cm]{frontView_sticks} }}
    \caption{Analog sticks}
\end{figure}

\paragraph{Adaptive trigger}
The DualSense controller features two 8-Bit analog triggers. It is possible to read the trigger values as 8-Bit continuous values or alternatively as binary button input. Aside of the normal trigger operation the adaptive triggers can be configured to simulate various force feedback effects. It is possible for example to simulate a gun trigger.
\begin{figure}[H]
    \centering
    \subfloat{{\includegraphics[width=8cm]{rearView_trigger} }}
    \caption{Adaptive triggers}
\end{figure}

\paragraph{Bumpers}
The two L/R Bumpers located over the adaptive triggers can be read as normal button inputs.
\begin{figure}[H]
    \centering
    \subfloat{{\includegraphics[width=8cm]{rearView_bumpers} }}
    \caption{L/R Bumpers}
\end{figure}

\paragraph{DPAD and PS Buttons}
The DualSense controller features a DPAD and the default well know PlayStation Square, Cross, Circle and Triangle buttons. The DPAD is capable of registering two simultaneously pressed buttons, however the two buttons must be neighbors. The PS-Buttons are being registered as four individual binary values.
\begin{figure}[H]
    \centering
    \subfloat{{\includegraphics[width=8cm]{frontView_mainbtn} }}
    \caption{DPAD and PS-Buttons}
\end{figure}

\paragraph{Other Buttons}
The DualSense controller feature several more buttons. Thees are:
\begin{itemize}
	\item \textbf{Menu button} Should be used to open the in-game menu.
	\item \textbf{Share button} Should be used to open the in-game photo mode.
	\item \textbf{PlayStation button} Can be used to open a in-game overlay.
	\item \textbf{Mic button} Should be used to mute the microphone.
\end{itemize}
All the listed buttons are readable through individual binary values.
\begin{figure}[H]
    \centering
    \subfloat{{\includegraphics[width=8cm]{frontView_other} }}
    \caption{Left to right, top to bottom: Share, Menu, PlayStation and Mic Button}
\end{figure}

\paragraph{Touch Pad}
The touch-pad and the surrounding lightbar are featuring several functions:
\begin{itemize}
	\item \textbf{Dual finger touch} The touch-pad itself is able to track two fingers simultaneously.
	\item \textbf{Integrated push button} The touch-pad integrates as momentary push button operated by pushing the pad down.
	\item \textbf{Lightbar} The left and right surrounding is able to light up in full 8-Bit RGB colors. The lib is providing several helpers to convert other color formats to the 8-Bit RGB UCHAR format.
	\item \textbf{Player indication LEDs} On the bottom of the touch-pad are five player indication LEDs located. Thees LEDs are group in one left, three middle and one right led. The brightness of the LEDs is controllable and the LEDs are able to fade in.
\end{itemize}
When using the touch-pad make sure to implement hysteresis, dead zones and tolerances. It may also helpful to accumulate the values over multiple frame to get a more stable result but this will also increase latency. 
\begin{figure}[H]
    \centering
    \subfloat{{\includegraphics[width=8cm]{frontView_touch} }}
    \caption{Touch Pad}
\end{figure}

\paragraph{Accelerometer and Gyroscope}
The DualSense controller is able to measure its acceleration (By moving the controller around) and to track its rotation. Measurements are done with 16-Bit precision in all three XYZ-Axis. Make sure to implement hysteresis, dead zones and tolerances. It may also helpful to accumulate the values over multiple frame to get a more stable result but this will also increase latency.
\begin{itemize}
	\item \textbf{Accelerometer} Measures the acceleration.
	\item \textbf{Gyroscope} Measures the controllers rotation. Currently you have to implement calibration in your own codebase. 
\end{itemize}

\paragraph{Rumble motors / Haptic feedback}
The DualSense feature two Haptic feedback devices. Thees device work similar like normal speakers, but they are not good in producing tones, they are good in producing vibration. It is possible to send an audio signal directly to those haptic speakers (However currently not supported by this API).\\
The controller supports simulating the normal soft and hard rumble motors using the haptic speakers. When using this mode both motors can be controlled with the usual 8-Bit values. The left rumble feels hard, the right one soft.

\paragraph{Integrated speaker and microphone}
Featuring two microphones and one mono speaker, the DualSense is able to produce and pickup audio. This features will be supported in the future. However it is possible to address these devices with the default WASAPI independently. 

\paragraph{Stereo audio jack}
Directly under the little microphone icon is a stereo headphone audio jack. It is possible to retrieve the connection status of this jack. However just like the speaker it is currently not supported to produce audio through the API.

\newpage